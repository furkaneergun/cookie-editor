class Cookie{constructor(e,t,i){this.id=e,this.cookie=t,this.guid=Cookie.guid(),this.baseHtml=!1,this.showAdvancedForm=i}get isGenerated(){return!1!==this.baseHtml}get html(){return this.isGenerated||this.generateHtml(),this.baseHtml}updateHtml(e){if(this.isGenerated){this.cookie=e;var t=this.baseHtml.querySelector("#name-"+this.guid).value,i=this.baseHtml.querySelector("#value-"+this.guid).value,s=this.baseHtml.querySelector("#domain-"+this.guid).value,a=this.baseHtml.querySelector("#path-"+this.guid).value,o=this.baseHtml.querySelector("#sameSite-"+this.guid).value,h=this.baseHtml.querySelector("#hostOnly-"+this.guid).checked,r=this.baseHtml.querySelector("#session-"+this.guid).checked,n=this.baseHtml.querySelector("#secure-"+this.guid).checked,l=this.baseHtml.querySelector("#httpOnly-"+this.guid).checked,u=this.baseHtml.querySelector("#expiration-"+this.guid).value;isNaN(u=new Date(u).getTime()/1e3)&&(u=void 0),this.cookie.name!==t&&this.updateName(),this.cookie.value!==i&&this.updateValue(),this.cookie.domain!==s&&this.updateDomain(),this.cookie.path!==a&&this.updatePath(),this.cookie.expirationDate!==u&&this.updateExpiration(),this.cookie.sameSite!==o&&this.updateSameSite(),this.cookie.hostOnly!==h&&this.updateHostOnly(),this.cookie.session!==r&&this.updateSession(),this.cookie.secure!==n&&this.updateSecure(),this.cookie.httpOnly!==l&&this.updateHttpOnly()}}generateHtml(){var e=document.importNode(document.getElementById("tmp-cookie").content,!0);this.baseHtml=e.querySelector("li"),this.baseHtml.setAttribute("data-name",this.cookie.name),this.baseHtml.id=this.id;var t=this.baseHtml.querySelector("form");t.setAttribute("data-id",this.id),t.id=this.guid,this.id||t.classList.add("create");let i="exp_"+this.guid;this.baseHtml.querySelector(".expando").id=i,this.baseHtml.querySelector(".header").setAttribute("aria-controls",i),this.baseHtml.querySelector(".header-name").textContent=this.cookie.name,t.querySelector(".label-name").setAttribute("for","name-"+this.guid);var s=t.querySelector(".input-name");s.id="name-"+this.guid,s.value=this.cookie.name,t.querySelector(".label-value").setAttribute("for","value-"+this.guid);var a=t.querySelector(".input-value");a.id="value-"+this.guid,a.value=this.cookie.value,t.querySelector(".label-domain").setAttribute("for","domain-"+this.guid);var o=t.querySelector(".input-domain");o.id="domain-"+this.guid,o.value=this.cookie.domain,t.querySelector(".label-path").setAttribute("for","path-"+this.guid);var h=t.querySelector(".input-path");h.id="path-"+this.guid,h.value=this.cookie.path,t.querySelector(".label-expiration").setAttribute("for","expiration-"+this.guid);var r=t.querySelector(".input-expiration");r.id="expiration-"+this.guid,r.value=this.cookie.expirationDate?new Date(1e3*this.cookie.expirationDate):"",t.querySelector(".label-sameSite").setAttribute("for","sameSite-"+this.guid);var n=t.querySelector(".input-sameSite");n.id="sameSite-"+this.guid,n.value=this.cookie.sameSite,t.querySelector(".label-hostOnly").setAttribute("for","hostOnly-"+this.guid);var l=t.querySelector(".input-hostOnly");l.id="hostOnly-"+this.guid,l.checked=this.cookie.hostOnly,o.disabled=this.cookie.hostOnly,t.querySelector(".label-session").setAttribute("for","session-"+this.guid);var u=t.querySelector(".input-session");u.id="session-"+this.guid,u.checked=!this.cookie.expirationDate,r.disabled=!this.cookie.expirationDate,t.querySelector(".label-secure").setAttribute("for","secure-"+this.guid);var d=t.querySelector(".input-secure");d.id="secure-"+this.guid,d.checked=this.cookie.secure,t.querySelector(".label-httpOnly").setAttribute("for","httpOnly-"+this.guid);var c=t.querySelector(".input-httpOnly");c.id="httpOnly-"+this.guid,c.checked=this.cookie.httpOnly,l.addEventListener("change",function(){o.disabled=this.checked}),u.addEventListener("change",function(){r.disabled=this.checked});var m=t.querySelector(".advanced-toggle"),g=t.querySelector(".advanced-form");m.addEventListener("click",function(){g.classList.toggle("show"),g.classList.contains("show")?m.textContent="Hide Advanced":m.textContent="Show Advanced",Animate.resizeSlide(t.parentElement.parentElement)}),this.showAdvancedForm&&(g.classList.add("show"),m.textContent="Hide Advanced")}updateName(){var e=this.baseHtml.querySelector("#name-"+this.guid),t=this.baseHtml.querySelector(".header");this.baseHtml.setAttribute("data-name",this.cookie.name),e.value=this.cookie.name,this.animateChangeOnNode(t),this.animateChangeOnNode(e)}updateValue(){var e=this.baseHtml.querySelector("#value-"+this.guid),t=this.baseHtml.querySelector(".header");e.value=this.cookie.value,this.animateChangeOnNode(t),this.animateChangeOnNode(e)}updateDomain(){var e=this.baseHtml.querySelector("#domain-"+this.guid),t=this.baseHtml.querySelector(".header");e.value=this.cookie.domain,this.animateChangeOnNode(t),this.animateChangeOnNode(e)}updatePath(){var e=this.baseHtml.querySelector("#path-"+this.guid),t=this.baseHtml.querySelector(".header");e.value=this.cookie.path,this.animateChangeOnNode(t),this.animateChangeOnNode(e)}updateExpiration(){var e=this.baseHtml.querySelector("#expiration-"+this.guid),t=this.baseHtml.querySelector(".header");e.value=this.cookie.expirationDate?new Date(1e3*this.cookie.expirationDate):"",this.animateChangeOnNode(t),this.animateChangeOnNode(e)}updateSameSite(){var e=this.baseHtml.querySelector("#sameSite-"+this.guid),t=this.baseHtml.querySelector(".header");e.value=this.cookie.sameSite,this.animateChangeOnNode(t),this.animateChangeOnNode(e)}updateHostOnly(){var e=this.baseHtml.querySelector("#hostOnly-"+this.guid),t=this.baseHtml.querySelector("#domain-"+this.guid),i=this.baseHtml.querySelector(".header");e.checked=this.cookie.hostOnly,t.disabled=this.cookie.hostOnly,this.animateChangeOnNode(i),this.animateChangeOnNode(e)}updateSession(){var e=this.baseHtml.querySelector("#session-"+this.guid),t=this.baseHtml.querySelector("#expiration-"+this.guid),i=this.baseHtml.querySelector(".header");e.checked=!this.cookie.expirationDate,t.disabled=!this.cookie.expirationDate,this.animateChangeOnNode(i),this.animateChangeOnNode(e)}updateSecure(){var e=this.baseHtml.querySelector("#secure-"+this.guid),t=this.baseHtml.querySelector(".header");e.checked=this.cookie.secure,this.animateChangeOnNode(t),this.animateChangeOnNode(e)}updateHttpOnly(){var e=this.baseHtml.querySelector("#httpOnly-"+this.guid),t=this.baseHtml.querySelector(".header");e.checked=this.cookie.httpOnly,this.animateChangeOnNode(t),this.animateChangeOnNode(e)}removeHtml(e=null){!this.isRemoving&&(this.isRemoving=!0,Animate.toggleSlide(this.baseHtml,()=>{this.baseHtml.remove(),this.baseHtml=null,this.isRemoving=!1,e&&e()}))}animateChangeOnNode(e){e.classList.remove("anim-value-changed"),setTimeout(()=>{e.classList.add("anim-value-changed")},20)}showSuccessAnimation(){this.baseHtml&&this.animateSuccessOnNode(this.baseHtml)}animateSuccessOnNode(e){e.classList.remove("anim-success"),setTimeout(()=>{e.classList.add("anim-success")},20)}static guid(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}static hashCode(e){var t,i,s=e.name+e.domain,a=0;if(0===s.length)return a;for(t=0;t<s.length;t++)a=(a<<5)-a+(i=s.charCodeAt(t)),a|=0;return a}}